<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Player Portal | Actions</title>
    <link rel="stylesheet" href="./play.css?v=9" />
  </head>
  <body>
    <main class="page-layout">
      <aside class="panel chance-panel">
        <h2 id="chance-title">Dig Chances</h2>
        <p class="muted" id="chance-xp">XP: 0-0</p>

        <h3>Coin Winnings</h3>
        <table class="chance-table">
          <thead>
            <tr>
              <th>Range</th>
              <th>Chance</th>
            </tr>
          </thead>
          <tbody id="chance-winnings"></tbody>
        </table>

        <h3>Bonus Rewards</h3>
        <table class="chance-table">
          <thead>
            <tr>
              <th>Reward</th>
              <th>Chance</th>
            </tr>
          </thead>
          <tbody id="chance-bonus"></tbody>
        </table>

        <div id="dev-loot-controls" class="dev-loot-controls" hidden>
          <button id="dev-reset-config-button" class="close-profile" type="button">
            Revert to originals
          </button>
        </div>

        <div class="loot-nav">
          <button id="shop-button" class="loot-nav-button" type="button">Shop</button>
          <button id="open-upgrade-button" class="loot-nav-button" type="button">Upgrade</button>
        </div>
        <div id="mode-menu" class="mode-menu">
          <p class="mode-menu-label">Choose your game section</p>
          <button id="mode-actions-button" class="mode-menu-option" type="button">Dig / Fish / Hunt</button>
          <button id="mode-gambling-button" class="mode-menu-option" type="button">Gambling</button>
        </div>
      </aside>

      <section class="main-column">
        <header class="panel top">
          <div class="inventory-corner">
            <button id="open-inventory-button" class="inventory-button" type="button" aria-label="Open inventory">
              <img id="inventory-icon" class="inventory-icon" src="./assets/Backpack.png" alt="Inventory" />
            </button>
          </div>
          <div class="user-corner">
            <button id="user-menu-button" class="user-button" type="button">
              <img
                id="user-avatar"
                class="user-avatar"
                src="./assets/null_trophy.png"
                alt="User avatar"
              />
            </button>
            <div id="user-dropdown" class="user-dropdown" hidden>
              <button id="open-profile-button" type="button">Profile</button>
              <button id="open-daily-button" type="button">Daily</button>
              <button id="open-achievements-button" type="button">Achievements</button>
              <button id="open-showcase-button" type="button" hidden>Showcase</button>
              <button id="open-dev-mode-button" type="button" hidden>Dev Mode</button>
            </div>
          </div>

          <h1 id="main-title">Action Center</h1>
          <p id="status">Loading profile...</p>

          <div class="level-row">
            <div class="level-left">LVL <span id="level-value">1</span></div>
            <div class="level-center">
              <div class="xp-line">
                <span id="xp-text">0/0 XP</span>
              </div>
              <div class="xp-track">
                <div id="xp-fill" class="xp-fill"></div>
              </div>
            </div>
            <div id="level-reward" class="level-right">+0 coins</div>
          </div>
        </header>

        <section id="profile-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <div class="profile-ident">
              <img id="profile-avatar" class="profile-avatar" src="./assets/null_trophy.png" alt="Profile avatar" />
              <div>
                <h2 id="profile-name">Player Profile</h2>
                <p id="profile-id" class="muted"></p>
              </div>
            </div>
            <button id="close-profile-button" class="close-profile" type="button">Close</button>
          </div>

          <div class="profile-grid">
            <article class="profile-card">
              <p class="k">Wallet</p>
              <p id="profile-wallet" class="v">$0</p>
            </article>
            <article class="profile-card">
              <p class="k">Level</p>
              <p id="profile-level" class="v">1</p>
            </article>
            <article class="profile-card">
              <p class="k">Lifetime XP</p>
              <p id="profile-xp" class="v">0</p>
            </article>
            <article class="profile-card">
              <p class="k">Total Commands</p>
              <p id="profile-commands" class="v">0</p>
            </article>
            <article class="profile-card">
              <p class="k">Total Money Earned</p>
              <p id="profile-earned" class="v">$0</p>
            </article>
            <article class="profile-card">
              <p class="k">Lifetime Trophies</p>
              <p id="profile-trophies" class="v">0</p>
            </article>
            <article class="profile-card wide">
              <p class="k">Joined</p>
              <p id="profile-joined" class="v">-</p>
            </article>
            <article class="profile-card wide">
              <p class="k">Current Showcase</p>
              <p id="profile-showcase-summary" class="v">No showcase active</p>
              <div id="profile-showcase-items" class="profile-showcase-items"></div>
            </article>
          </div>
        </section>

        <section id="trophy-panel" class="panel trophy-panel" hidden>
          <div class="profile-header">
            <h2>Trophy Collection</h2>
            <button id="close-trophies-button" class="close-profile" type="button">Close</button>
          </div>

          <div class="trophy-grid">
            <article class="trophy-card">
              <img id="trophy-dig-image" class="trophy-img" src="./assets/null_trophy.png" alt="Collectors Greed trophy" />
              <p class="trophy-name">Collectors Greed</p>
              <p id="trophy-dig-count" class="trophy-count">x0</p>
            </article>
            <article class="trophy-card">
              <img id="trophy-fish-image" class="trophy-img" src="./assets/null_trophy.png" alt="Midnight Ocean trophy" />
              <p class="trophy-name">Midnight Ocean</p>
              <p id="trophy-fish-count" class="trophy-count">x0</p>
            </article>
            <article class="trophy-card">
              <img id="trophy-hunt-image" class="trophy-img" src="./assets/null_trophy.png" alt="Many Heads trophy" />
              <p class="trophy-name">Many Heads</p>
              <p id="trophy-hunt-count" class="trophy-count">x0</p>
            </article>
          </div>
        </section>

        <section id="daily-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <h2>Daily</h2>
            <button id="close-daily-button" class="close-profile" type="button">Close</button>
          </div>
          <div class="daily-timezone-row">
            <label>Timezone</label>
            <p id="daily-timezone-display" class="daily-timezone-value">Detecting...</p>
          </div>
          <div class="daily-grid">
            <article class="profile-card">
              <p class="k">Daily Login Reward</p>
              <p id="daily-reward-status" class="v">Loading...</p>
              <p id="daily-reward-detail" class="muted"></p>
              <button id="claim-daily-button" class="close-profile" type="button">Claim Daily</button>
            </article>
            <article class="profile-card">
              <p class="k">Daily 100 Interactions</p>
              <p id="daily-challenge-status" class="v">Loading...</p>
              <p id="daily-challenge-detail" class="muted"></p>
              <button id="claim-daily-challenge-button" class="close-profile" type="button">
                Claim Challenge
              </button>
            </article>
          </div>
        </section>

        <section id="achievements-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <h2>Achievements</h2>
            <button id="close-achievements-button" class="close-profile" type="button">Close</button>
          </div>
          <div id="achievements-list" class="achievements-list"></div>
        </section>

        <section id="inventory-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <h2>Inventory</h2>
            <button id="close-inventory-button" class="close-profile" type="button">Close</button>
          </div>
          <div id="inventory-list" class="inventory-list"></div>
        </section>

        <section id="upgrade-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <h2>Upgrades</h2>
            <button id="close-upgrade-button" class="close-profile" type="button">Close</button>
          </div>
          <div id="upgrades-list" class="upgrades-list"></div>
        </section>

        <section id="shop-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <h2>Shop</h2>
            <button id="close-shop-button" class="close-profile" type="button">Close</button>
          </div>
          <article id="shop-showcase-card" class="profile-card">
            <p class="k">Showcase Upgrade</p>
            <button id="shop-buy-showcase-button" class="close-profile" type="button">Buy</button>
          </article>
          <article id="shop-empty-card" class="profile-card" hidden>
            <p class="k">Showcase Upgrade</p>
            <p id="shop-empty-message" class="v">Sold Out</p>
            <p class="muted">You have purchased all available showcase slots.</p>
          </article>
        </section>

        <section id="showcase-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <h2>Showcase</h2>
            <button id="close-showcase-button" class="close-profile" type="button">Close</button>
          </div>
          <p id="showcase-summary" class="muted"></p>
          <div id="showcase-slots" class="showcase-slots"></div>
          <button id="save-showcase-button" class="close-profile" type="button">Save Showcase</button>
        </section>

        <section id="dev-panel" class="panel profile-panel" hidden>
          <div class="profile-header">
            <h2>Dev Mode</h2>
            <button id="close-dev-mode-button" class="close-profile" type="button">Close</button>
          </div>
          <div class="profile-grid">
            <article class="profile-card wide">
              <p class="k">Level Control</p>
              <div class="dev-row">
                <input id="dev-level-input" type="number" min="1" max="100" value="100" />
                <button id="dev-set-level-button" class="close-profile" type="button">Set Level</button>
                <button id="dev-max-level-button" class="close-profile" type="button">Set Max</button>
              </div>
            </article>
            <article class="profile-card wide">
              <p class="k">Money Control</p>
              <div class="dev-row">
                <input id="dev-money-input" type="number" min="0" step="1" value="0" />
                <button id="dev-set-money-button" class="close-profile" type="button">Set Money</button>
                <button id="dev-reset-progress-button" class="close-profile" type="button">
                  Reset Progress
                </button>
                <label class="dev-toggle">
                  <input id="dev-freeze-money-toggle" type="checkbox" />
                  Freeze Money
                </label>
              </div>
            </article>
            <article id="dev-action-tools" class="profile-card wide">
              <p class="k">Reward Trigger</p>
              <div class="dev-row">
                <select id="dev-trigger-dig-select"></select>
                <button id="dev-trigger-dig-button" class="close-profile" type="button">Play Dig</button>
              </div>
              <div class="dev-row">
                <select id="dev-trigger-fish-select"></select>
                <button id="dev-trigger-fish-button" class="close-profile" type="button">Play Fish</button>
              </div>
              <div class="dev-row">
                <select id="dev-trigger-hunt-select"></select>
                <button id="dev-trigger-hunt-button" class="close-profile" type="button">Play Hunt</button>
              </div>
              <div class="dev-row">
                <select id="dev-upgrade-action-select">
                  <option value="dig">Dig</option>
                  <option value="fish">Fish</option>
                  <option value="hunt">Hunt</option>
                </select>
                <select id="dev-upgrade-key-select">
                  <option value="cash">Cash</option>
                  <option value="xp">XP</option>
                  <option value="drop">Drop</option>
                </select>
                <input id="dev-upgrade-level-input" type="number" min="0" max="1000" value="0" />
                <button id="dev-set-upgrade-level-button" class="close-profile" type="button">
                  Set Upgrade Level
                </button>
              </div>
            </article>
            <article id="dev-gambling-tools" class="profile-card wide" hidden>
              <p class="k">Gambling Test</p>
              <div class="dev-row">
                <select id="dev-gamble-game-select">
                  <option value="coinflip">Coinflip</option>
                  <option value="blackjack">Blackjack</option>
                  <option value="slots">Slots</option>
                </select>
                <select id="dev-gamble-outcome-select">
                  <option value="win">Force Win</option>
                  <option value="lose">Force Loss</option>
                  <option value="push">Push (Blackjack)</option>
                </select>
              </div>
              <div class="dev-row">
                <input id="dev-gamble-risk-input" type="number" step="1" value="50" />
                <input id="dev-gamble-reward-input" type="number" step="0.01" value="1" />
                <button id="dev-apply-gamble-settings-button" class="close-profile" type="button">
                  Apply Risk/Reward
                </button>
                <button id="dev-run-gamble-button" class="close-profile" type="button">
                  Run Test Round
                </button>
              </div>
            </article>
          </div>
        </section>

        <section id="regular-actions" class="actions">
          <button class="action-card" data-action="dig" type="button">
            <img class="action-icon" src="./assets/dig.png" alt="Dig icon" />
            <span class="label">Dig</span>
          </button>
          <button class="action-card" data-action="fish" type="button">
            <img class="action-icon" src="./assets/fish.png" alt="Fish icon" />
            <span class="label">Fish</span>
          </button>
          <button class="action-card" data-action="hunt" type="button">
            <img class="action-icon" src="./assets/hunt.png" alt="Hunt icon" />
            <span class="label">Hunt</span>
          </button>
        </section>

        <section id="gambling-actions" class="actions" hidden>
          <button class="action-card gambling-action-card" data-gamble-game="coinflip" type="button">
            <span class="label">Coinflip</span>
          </button>
          <button class="action-card gambling-action-card" data-gamble-game="blackjack" type="button">
            <span class="label">Blackjack</span>
          </button>
          <button class="action-card gambling-action-card" data-gamble-game="slots" type="button">
            <span class="label">Slots</span>
          </button>
        </section>

        <section id="action-stage" class="panel stage-wrap">
          <div id="anim-dig" class="scene dig" hidden>
            <img id="anim-dig-image" class="scene-gif" src="./assets/DugDug.png?v=4" alt="Dig animation" />
          </div>

          <div id="anim-fish" class="scene fish" hidden>
            <div class="sky"></div>
            <div class="water"></div>
            <div class="shore"></div>
            <div class="rod">
              <div class="pole"></div>
              <div class="line"></div>
              <div class="hook"></div>
            </div>
            <div class="splash splash-a"></div>
            <div class="splash splash-b"></div>
            <div class="fish-shape">
              <div class="fish-eye"></div>
            </div>
          </div>

          <div id="anim-hunt" class="scene hunt" hidden>
            <div class="sky"></div>
            <div class="field"></div>
            <div class="bush"></div>
            <div class="hunter">
              <div class="head"></div>
              <div class="body"></div>
              <div class="arm"></div>
              <div class="rifle"></div>
            </div>
            <div class="deer">
              <div class="deer-body"></div>
              <div class="deer-head"></div>
              <div class="deer-leg leg-a"></div>
              <div class="deer-leg leg-b"></div>
            </div>
            <div class="flash"></div>
          </div>
        </section>

        <section id="gambling-panel" class="panel gambling-panel" hidden>
          <div class="gambling-grid">
            <div class="gambling-main">
              <h2 id="gambling-title">Gambling Hall</h2>
              <p id="gambling-status" class="muted">Choose Coinflip, Blackjack, or Slots.</p>

              <div id="coinflip-controls" class="game-controls" hidden>
                <button id="coinflip-heads-button" class="close-profile" type="button">Call Heads</button>
                <button id="coinflip-tails-button" class="close-profile" type="button">Call Tails</button>
              </div>
              <div id="coinflip-anim" class="coinflip-anim" hidden>
                <span id="coinflip-coin" class="coinflip-coin" aria-hidden="true"></span>
              </div>

              <div id="blackjack-controls" class="game-controls" hidden>
                <button id="blackjack-deal-button" class="close-profile" type="button">Deal</button>
                <button id="blackjack-hit-button" class="close-profile" type="button" hidden>Hit</button>
                <button id="blackjack-stand-button" class="close-profile" type="button" hidden>Stand</button>
              </div>

              <div id="slots-controls" class="game-controls" hidden>
                <button id="slots-spin-button" class="close-profile" type="button">Spin</button>
              </div>

              <div class="gambling-result">
                <p class="k">Result</p>
                <p id="gambling-result-text" class="v">No bet placed yet.</p>
              </div>

              <div id="slots-payouts" class="slots-payouts" hidden>
                <p class="k">Slots Payouts</p>
                <ul class="slots-payout-list">
                  <li><span>7 | 7 | 7</span><strong>+6.00x bet</strong></li>
                  <li><span>Diamond | Diamond | Diamond</span><strong>+4.50x bet</strong></li>
                  <li><span>BAR | BAR | BAR</span><strong>+3.20x bet</strong></li>
                  <li><span>Any other 3 of a kind</span><strong>+2.40x bet</strong></li>
                  <li><span>Any 2 of a kind</span><strong>+0.80x bet</strong></li>
                </ul>
                <p class="muted slots-payout-note">Risk bonus multiplies payout profit.</p>
              </div>
            </div>

            <aside class="risk-sidebar">
              <h3>Risk Mode</h3>
              <div class="bet-input-wrap">
                <label for="bet-amount-input">Bet Amount</label>
                <input
                  id="bet-amount-input"
                  type="text"
                  inputmode="decimal"
                  placeholder="ex: 100000, 100,000, 100k"
                  maxlength="20"
                />
                <p id="bet-parsed-display" class="muted">Parsed bet: $0 (Max: $1,000,000)</p>
              </div>

              <div class="risk-slider-wrap">
                <label for="risk-slider">Risk</label>
                <input id="risk-slider" type="range" min="0" max="99" step="1" value="0" />
                <div class="risk-marks" aria-hidden="true">
                  <span>0%</span>
                  <span>25%</span>
                  <span>50%</span>
                  <span>75%</span>
                  <span>99%</span>
                </div>
                <p id="risk-current" class="risk-current">Current Risk: 0%</p>
                <p id="risk-reward" class="risk-reward">Reward Increase: +0%</p>
              </div>
            </aside>
          </div>
        </section>

        <section class="panel wallet">
          <p class="wallet-label">Wallet</p>
          <p id="wallet-amount">$0</p>
        </section>
      </section>
    </main>
    <script src="./play.js?v=22"></script>
  </body>
</html>
